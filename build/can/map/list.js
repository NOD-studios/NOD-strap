define(["can/util/library","can/map","can/list","can/compute"],function(n){return n.extend(n.List.prototype,{filter:function(i){var t=new this.constructor,c=this,e=function(e){var u=function(n,i){var c=t.indexOf(e);i||-1===c||t.splice(c,1),i&&-1===c&&t.push(e)},o=n.compute(function(){return i(e,c.indexOf(e),c)});o.bind("change",u),u(null,o())};return this.bind("add",function(i,t,c){n.each(t,function(n,i){e(n,c+i)})}),this.bind("remove",function(i,c){n.each(c,function(n){var i=t.indexOf(n);-1!==i&&t.splice(i,1)})}),this.forEach(e),t},map:function(i){var t=new n.List,c=this,e=function(e,u){var o=n.compute(function(){return i(e,u,c)});o.bind("change",function(n,i){t.splice(u,1,i)}),t.splice(u,0,o())};return this.forEach(e),this.bind("add",function(i,t,c){n.each(t,function(n,i){e(n,c+i)})}),this.bind("remove",function(n,i,c){t.splice(c,i.length)}),t}}),n.List});
//# sourceMappingURL=list.js
//# sourceMappingURL=list.js.map
define(["can/util/library","can/map","can/util/object"],function(t){var r=function(t,r){var i={};for(var a in t)i[a]="object"!=typeof t[a]||null===t[a]||t[a]instanceof Date?t[a]:r.attr(a);return i};return t.extend(t.Map.prototype,{backup:function(){return this._backupStore=this._attrs(),this},isDirty:function(r){return this._backupStore&&!t.Object.same(this._attrs(),this._backupStore,void 0,void 0,void 0,!!r)},restore:function(t){var i=t?this._backupStore:r(this._backupStore,this);return this.isDirty(t)&&this._attrs(i,!0),this}}),t.Map});
//# sourceMappingURL=backup.js.map
{"version":3,"file":"model.js","sources":["model.js.src.js"],"names":["define","can","pipe","def","thisArg","func","d","Deferred","then","args","makeArray","arguments","success","apply","e","rejectWith","concat","resolveWith","this","abort","modelNum","getId","inst","__reading","constructor","id","__get","ajax","ajaxOb","data","type","dataType","error","params","parts","split","url","pop","length","extend","isArray","sub","makeRequest","modelObj","method","serialize","deferred","jqXHR","model","unshift","converters","models","instancesRawData","oldList","xhr","Model","_reqs","List","self","tmp","ListClass","ML","modelList","rawDataIsList","raw","parseModels","Error","dev","warn","splice","each","rawPart","push","val","prop","attr","setTimeout","proxy","_clean","attributes","oldModel","parseModel","store","isFunction","removeAttr","makeParser","getObject","result","ajaxMethods","create","update","attrs","identity","capitalize","destroy","findAll","findOne","ajaxMaker","ajaxMethod","str","createURLFromResource","name","resource","replace","Map","fullName","setup","base","staticProps","protoProps","clean","newMethod","Construct","_overwrite","hasCustomConverter","converter","parseName","dataProperty","maker","madeParser","useModelConverter","_url","_shortName","_ajax","_makeRequest","_bindings","prototype","isNew","save","done","destroyed","resolve","_bindsetup","modelInstance","_bindteardown","___set","call","makeGetterHandler","readyState","createUpdateDestroyHandler","responseHandlers","makeFindAll","makeFindOne","makeCreate","makeUpdate","makeDestroy","oldMethod","oldArgs","funcName","dispatch","target","log","shortName","_bubbleRule","eventName","list","bubbleRules","isPlainObject","isDeferred","_init","bind","_destroyed","ev","test","index","indexOf"],"mappings":"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"}
define(["can/util/can","can/util/attr","dojo","can/event","can/util/fragment","can/util/array/each","can/util/object/isplain","can/util/deferred","can/util/hashchange","can/util/inserted"],function(t,e){function n(t,e){var n=t[f],i=n&&d[n];return void 0===e?i||r(t):i&&i[e]}function r(t,e,n){var r=t[f]||(t[f]=++c),i=d[r]||(d[r]={});return void 0!==e&&(i[e]=n),i}var i=window.dojo;define("plugd/trigger",["dojo"],function(t){var e,n=t,r=n.isFunction,i=/mouse(enter|leave)/,a=function(t,e){return"mouse"+("enter"===e?"over":"out")},o=n._mixin;return e=n.doc.createEvent?function(t,e,r){var s=n.doc.createEvent("HTMLEvents");e=e.replace(i,a),s.initEvent(e,"removed"===e||"inserted"===e?!1:!0,!0),r&&o(s,r),t.dispatchEvent(s)}:function(t,e,i){var a="on"+e,s=!1;try{var u=document.createEventObject();("inserted"===e||"removed"===e)&&(u.cancelBubble=!0),o(u,i),t.fireEvent(a,u)}catch(d){var c=o({type:e,target:t,faux:!0,_stopper:function(){s=this.cancelBubble}},i);if(r(t[a])&&t[a](c),"inserted"===e||"removed"===e)return;for(;!s&&t!==n.doc&&t.parentNode;)t=t.parentNode,r(t[a])&&t[a](c)}},n._trigger=function(t,r,i){"string"!=typeof r&&(i=r,r=i.type,delete i.type);var a=n.byId(t),o=r&&"on"===r.slice(0,2)?r.slice(2):r;e(a,o,i)},n.trigger=function(t,e){return r(t)||r(e)||r(t[e])?n.hitch.apply(n,arguments)():n._trigger.apply(n,arguments)},n.NodeList.prototype.trigger=n.NodeList._adaptAsForEach(n._trigger),n._Node&&!n._Node.prototype.trigger&&n.extend(n._Node,{trigger:function(t,e){return n._trigger(this,t,e),this}}),n.trigger}),require(["dojo","dojo/query","plugd/trigger","dojo/NodeList-dom"]),t.trim=function(t){return t&&i.trim(t)},t.makeArray=function(t){var e=[];return i.forEach(t,function(t){e.push(t)}),e},t.isArray=i.isArray,t.inArray=function(t,e,n){return i.indexOf(e,t,n)},t.map=function(e,n){return i.map(t.makeArray(e||[]),n)},t.extend=function(e){if(e===!0){var n=t.makeArray(arguments);return n.shift(),i.mixin.apply(i,n)}return i.mixin.apply(i,arguments)},t.isEmptyObject=function(t){var e;for(e in t)break;return void 0===e},t.param=function(e){var n=[],r=function(t,e){n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))};for(var i in e)t.buildParam(i,e[i],r);return n.join("&").replace(/%20/g,"+")},t.buildParam=function(e,n,r){if(t.isArray(n))for(var a=0,o=n.length;o>a;++a)r(e+"[]",n[a]);else if(i.isObject(n))for(var s in n)t.buildParam(e+"["+s+"]",n[s],r);else r(e,n)},t.proxy=function(t,e){return i.hitch(e,t)},t.isFunction=function(t){return i.isFunction(t)};var a=0,o=function(e,n,r){e.forEach(function(e){e=new i.NodeList("SELECT"===e.nodeName?[e]:e);var o=t.data(e,"events");o||t.data(e,"events",o={}),o[n]||(o[n]={}),void 0===r.__bindingsIds&&(r.__bindingsIds=a++),o[n][r.__bindingsIds]=e.on(n,r)[0]})},s=function(e,n,r){e.forEach(function(e){var a=new i.NodeList(e),o=t.data(a,"events");if(o){var s=o[n];if(s){var u=s[r.__bindingsIds];i.disconnect(u),delete s[r.__bindingsIds],t.isEmptyObject(s)&&delete o[n]}}})};t.bind=function(e,n){return this.bind&&this.bind!==t.bind?this.bind(e,n):this.on||this.nodeType?o(new i.NodeList("SELECT"===this.nodeName?[this]:this),e,n):this.addEvent?this.addEvent(e,n):t.addEvent.call(this,e,n),this},t.unbind=function(e,n){return this.unbind&&this.unbind!==t.unbind?this.unbind(e,n):this.on||this.nodeType?s(new i.NodeList(this),e,n):t.removeEvent.call(this,e,n),this},t.on=t.bind,t.off=t.unbind,t.trigger=function(e,n,r,a){if(e instanceof i.NodeList||!e.nodeName&&e!==window||(e=t.$(e)),e.trigger)if(a===!1){if(!e[0]||3===e[0].nodeType)return;var o=e.on(n,function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t._stopper&&t._stopper(),i.disconnect(o)});e.trigger(n,r)}else e.trigger(n,r);else"string"==typeof n&&(n={type:n}),n.target=n.target||e,t.dispatch.call(e,n,t.makeArray(r))},t.delegate=function(e,n,r){return e?this.on||this.nodeType?o(new i.NodeList(this),e+":"+n,r):this.delegate?this.delegate(e,n,r):t.bind.call(this,n,r):t.bind.call(this,n,r),this},t.undelegate=function(e,n,r){return e?this.on||this.nodeType?s(new i.NodeList(this),e+":"+n,r):this.undelegate?this.undelegate(e,n,r):t.unbind.call(this,n,r):t.unbind.call(this,n,r),this};var u=function(t,e){for(var n in t)e[n]="function"==typeof e[n]?function(){t[n].apply(t,arguments)}:n[t]};t.ajax=function(e){var n=t.capitalize((e.type||"get").toLowerCase()),r=i["xhr"+n],a=e.success,o=e.error,s=new t.Deferred,d=r({url:e.url,handleAs:e.dataType,sync:!e.async,headers:e.headers,content:e.data});d.then(function(t){u(c,s),s.resolve(t,"success",c),a&&a(t,"success",c)},function(){u(c,s),s.reject(c,"error"),o(c,"error")});var c=d.ioArgs.xhr;return u(c,s),s},t.$=function(t){return t===window?window:"string"==typeof t?i.query(t):new i.NodeList(t&&t.nodeName?[t]:t)},t.append=function(t,e){return t.forEach(function(t){i.place(e,t)})};var d={},c=t.uuid=+new Date,f=t.expando="can"+c,l=function(e){for(var n=[],r=0,a=e.length;a>r;r++)1===e[r].nodeType&&n.push(e[r]);t.trigger(new i.NodeList(n),"removed",[],!1),r=0;for(var o;void 0!==(o=e[r]);r++){var s=o[f];delete d[s]}};t.data=function(t,e,i){return void 0===i?0===t.length?void 0:n(t[0],e):t.forEach(function(t){r(t,e,i)})},t.cleanData=function(t,e){var n=t[f];delete d[n][e]},i.empty=function(t){for(var e;e=t.lastChild;)i.destroy(e)};var g=i.destroy;i.destroy=function(e){e=i.byId(e);var n=[e];return e.getElementsByTagName&&n.concat(t.makeArray(e.getElementsByTagName("*"))),l(n),g.apply(i,arguments)};var p=i.place;i.place=function(e,n,r){"string"==typeof e&&/^\s*</.test(e)&&(e=t.buildFragment(e));var i;i=11===e.nodeType?t.makeArray(e.childNodes):[e];var a=p.call(this,e,n,r);return t.inserted(i),a},t.addClass=function(t,e){return t.addClass(e)},t.remove=function(e){var n=[];return e.forEach(function(e){n.push(e),e.getElementsByTagName&&n.push.apply(n,t.makeArray(e.getElementsByTagName("*")))}),l(n),e.forEach(g),e},t.get=function(t,e){return t[e]},t.has=function(t,e){return i.isDescendant(e,t[0])?t:[]},t.extend(i.Deferred.prototype,{pipe:function(t,e){var n=new i.Deferred;return this.addCallback(function(){n.resolve(t.apply(this,arguments))}),this.addErrback(function(){e?n.reject(e.apply(this,arguments)):n.reject.apply(n,arguments)}),n}}),t.attr=e,delete e.MutationObserver;var h=i.NodeList.prototype.on;i.NodeList.prototype.on=function(e){"attributes"===e&&this.forEach(function(e){var n=t.$(e);t.data(n,"canHasAttributesBindings",(t.data(n,"canHasAttributesBindings")||0)+1)});var n=h.apply(this,arguments);if("attributes"===e){var r=this;t.each(n,function(e,n){var i=e.remove;e.remove=function(){var e=t.$(r[n]),a=t.data(e,"canHasAttributesBindings")||0;return 0>=a?t.cleanData(r[n],"canHasAttributesBindings"):t.data(e,"canHasAttributesBindings",a-1),i.call(this,arguments)}})}return n};var v=i.setAttr;i.setAttr=function(e,n){var r=i.getAttr(e,n),a=v.apply(this,arguments),o=i.getAttr(e,n);return o!==r&&t.attr.trigger(e,n,r),a};var y=i.removeAttr;return i.removeAttr=function(e,n){var r=i.getAttr(e,n),a=y.apply(this,arguments);return null!=r&&t.attr.trigger(e,n,r),a},t});
//# sourceMappingURL=dojo.js.map
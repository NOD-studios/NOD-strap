define(["can/util/can"],function(e){var t=/^\s*<(\w+)[^>]*>/,i={}.toString,n=function(e,n){void 0===n&&(n=t.test(e)&&RegExp.$1),e&&"[object Function]"===i.call(e.replace)&&(e=e.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var l=document.createElement("div"),d=document.createElement("div");"tbody"===n||"tfoot"===n||"thead"===n?(d.innerHTML="<table>"+e+"</table>",l=3===d.firstChild.nodeType?d.lastChild:d.firstChild):"tr"===n?(d.innerHTML="<table><tbody>"+e+"</tbody></table>",l=3===d.firstChild.nodeType?d.lastChild:d.firstChild.firstChild):"td"===n||"th"===n?(d.innerHTML="<table><tbody><tr>"+e+"</tr></tbody></table>",l=3===d.firstChild.nodeType?d.lastChild:d.firstChild.firstChild.firstChild):"option"===n?(d.innerHTML="<select>"+e+"</select>",l=3===d.firstChild.nodeType?d.lastChild:d.firstChild):l.innerHTML=""+e;var r={},a=l.childNodes;r.length=a.length;for(var o=0;o<a.length;o++)r[o]=a[o];return[].slice.call(r)};return e.buildFragment=function(e){if(e&&11===e.nodeType)return e;for(var t=n(e),i=document.createDocumentFragment(),l=0,d=t.length;d>l;l++)i.appendChild(t[l]);return i},function(){var t="<-\n>",i=e.buildFragment(t,document);if(t!==i.childNodes[0].nodeValue){var n=e.buildFragment;e.buildFragment=function(e,t){var i=n(e,t);return 1===i.childNodes.length&&3===i.childNodes[0].nodeType&&(i.childNodes[0].nodeValue=e),i}}}(),e});
//# sourceMappingURL=fragment.js.map
define(["can/util/library","can/view/elements"],function(e,t){function n(e,n,a){var c,l,u,d,i,s=a,m=typeof e,h=function(){return c||(c={path:a,callbacks:[]},n.push(c),s=[]),c};if("object"===m){if(e.tag){if(l=document.createElement(e.tag),e.attrs)for(var p in e.attrs){var f=e.attrs[p];"function"==typeof f?h().callbacks.push({callback:f}):l.setAttribute(p,f)}if(e.attributes)for(d=0,i=e.attributes.length;i>d;d++)h().callbacks.push({callback:e.attributes[d]});e.children&&e.children.length&&(u=c?c.paths=[]:n,l.appendChild(r(e.children,u,s)))}else if(e.comment&&(l=document.createComment(e.comment),e.callbacks))for(d=0,i=e.attributes.length;i>d;d++)h().callbacks.push({callback:e.callbacks[d]})}else"string"===m?l=document.createTextNode(e):"function"===m&&(o?(l=document.createTextNode(""),h().callbacks.push({callback:e})):(l=document.createComment("~"),h().callbacks.push({callback:function(){var n=document.createTextNode("");return t.replace([this],n),e.apply(n,arguments)}})));return l}function a(e,t,n){for(var c,r=t.path,o=t.callbacks,l=t.paths,u=e,d=0,i=r.length;i>d;d++)u=u.childNodes[r[d]];for(d=0,i=o.length;i>d;d++)c=o[d],c.callback.apply(u,n);if(l&&l.length)for(d=l.length-1;d>=0;d--)a(u,l[d],n)}function c(t){var n=[],c=r(t,n,[]);return{paths:n,clone:c,hydrate:function(){for(var t=u(this.clone),c=e.makeArray(arguments),r=n.length-1;r>=0;r--)a(t,n[r],c);return t}}}var r=function(e,t,a){for(var c=document.createDocumentFragment(),r=0,o=e.length;o>r;r++){var l=e[r];c.appendChild(n(l,t,a.concat(r)))}return c},o=function(){var e=document.createDocumentFragment(),t=document.createElement("div");t.appendChild(document.createTextNode("")),t.appendChild(document.createTextNode("")),e.appendChild(t);var n=e.cloneNode(!0);return 2===n.childNodes[0].childNodes.length}(),l=function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t=e.cloneNode(!0);return"<xyz></xyz>"===t.innerHTML}(),u=l?function(e){return e.cloneNode(!0)}:function(t){var n;if(1===t.nodeType?n=document.createElement(t.nodeName):3===t.nodeType?n=document.createTextNode(t.nodeValue):8===t.nodeType?n=document.createComment(t.nodeValue):11===t.nodeType&&(n=document.createDocumentFragment()),t.attributes){var a=e.makeArray(t.attributes);e.each(a,function(e){e&&e.specified&&n.setAttribute(e.nodeName,e.nodeValue)})}return t.childNodes&&e.each(t.childNodes,function(e){n.appendChild(u(e))}),n};return c.keepsTextNodes=o,e.view.target=c,c});
//# sourceMappingURL=target.js.map
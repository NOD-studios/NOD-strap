define(["can/util/library","can/elements"],function(e,t){function n(e,n,a){var c,l,d,u,i,m=a,s=typeof e,h=function(){return c||(c={path:a,callbacks:[]},n.push(c),m=[]),c};if("object"===s){if(e.tag){if(l=document.createElement(e.tag),e.attrs)for(var f in e.attrs){var p=e.attrs[f];"function"==typeof p?h().callbacks.push({callback:p}):l.setAttribute(f,p)}if(e.attributes)for(u=0,i=e.attributes.length;i>u;u++)h().callbacks.push({callback:e.attributes[u]});e.children&&e.children.length&&(d=c?c.paths=[]:n,l.appendChild(r(e.children,d,m)))}else if(e.comment&&(l=document.createComment(e.comment),e.callbacks))for(u=0,i=e.attributes.length;i>u;u++)h().callbacks.push({callback:e.callbacks[u]})}else"string"===s?l=document.createTextNode(e):"function"===s&&(o?(l=document.createTextNode(""),h().callbacks.push({callback:e})):(l=document.createComment("~"),h().callbacks.push({callback:function(){var n=document.createTextNode("");return t.replace([this],n),e.apply(n,arguments)}})));return l}function a(e,t,n){for(var c,r=t.path,o=t.callbacks,l=t.paths,d=e,u=0,i=r.length;i>u;u++)d=d.childNodes[r[u]];for(u=0,i=o.length;i>u;u++)c=o[u],c.callback.apply(d,n);if(l&&l.length)for(u=l.length-1;u>=0;u--)a(d,l[u],n)}function c(t){var n=[],c=r(t,n,[]);return{paths:n,clone:c,hydrate:function(){for(var t=d(this.clone),c=e.makeArray(arguments),r=n.length-1;r>=0;r--)a(t,n[r],c);return t}}}var r=function(e,t,a){for(var c=document.createDocumentFragment(),r=0,o=e.length;o>r;r++){var l=e[r];c.appendChild(n(l,t,a.concat(r)))}return c},o="undefined"!=typeof document&&function(){var e=document.createDocumentFragment(),t=document.createElement("div");t.appendChild(document.createTextNode("")),t.appendChild(document.createTextNode("")),e.appendChild(t);var n=e.cloneNode(!0);return 2===n.childNodes[0].childNodes.length}(),l="undefined"!=typeof document&&function(){var e=document.createElement("a");e.innerHTML="<xyz></xyz>";var t=e.cloneNode(!0);return"<xyz></xyz>"===t.innerHTML}(),d=l?function(e){return e.cloneNode(!0)}:function(t){var n;if(1===t.nodeType?n=document.createElement(t.nodeName):3===t.nodeType?n=document.createTextNode(t.nodeValue):8===t.nodeType?n=document.createComment(t.nodeValue):11===t.nodeType&&(n=document.createDocumentFragment()),t.attributes){var a=e.makeArray(t.attributes);e.each(a,function(e){e&&e.specified&&n.setAttribute(e.nodeName,e.nodeValue)})}return t.childNodes&&e.each(t.childNodes,function(e){n.appendChild(d(e))}),n};return c.keepsTextNodes=o,e.view.target=c,c});
//# sourceMappingURL=target.js
//# sourceMappingURL=target.js.map
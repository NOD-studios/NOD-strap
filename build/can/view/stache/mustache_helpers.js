define(["can/util/library","can/view/stache/utils","can/view/live"],function(n,e,t){t=t||n.view.live;var i=function(t){return e.isObserveLike(t)&&e.isArrayLike(t)&&t.attr("length")?t:n.isFunction(t)?t():t},o={each:function(o,r){var s,c,u,a=i(o),f=[];if(a instanceof n.List||o&&o.isComputed&&void 0===a)return function(n){var e=function(n,e,t){return r.fn(r.scope.add({"@index":e}).add(n),r.options,t)};t.list(n,o,e,r.context,n.parentNode,r.nodeList)};var d=a;if(d&&e.isArrayLike(d))for(u=0;u<d.length;u++)f.push(r.fn(r.scope.add({"@index":u}).add(d[u])));else if(e.isObserveLike(d))for(s=n.Map.keys(d),u=0;u<s.length;u++)c=s[u],f.push(r.fn(r.scope.add({"@key":c}).add(d[c])));else if(d instanceof Object)for(c in d)f.push(r.fn(r.scope.add({"@key":c}).add(d[c])));return f},"@index":function(e,t){t||(t=e,e=0);var i=t.scope.attr("@index");return""+((n.isFunction(i)?i():i)+e)},"if":function(e,t){var o;return o=n.isFunction(e)?n.compute.truthy(e)():!!i(e),o?t.fn(t.scope||this):t.inverse(t.scope||this)},unless:function(e,t){return o["if"].apply(this,[n.isFunction(e)?n.compute(function(){return!e()}):!e,t])},"with":function(n,e){var t=n;return n=i(n),n?e.fn(t):void 0},log:function(n,e){"undefined"!=typeof console&&console.log&&(e?console.log(n,e.context):console.log(n.context))},data:function(e){var t=2===arguments.length?this:arguments[1];return function(i){n.data(n.$(i),e,t||this.context)}}};return{registerHelper:function(n,e){o[n]=e},getHelper:function(n,e){var t=e.attr("helpers."+n);return t||(t=o[n]),t?{fn:t}:void 0}}});
//# sourceMappingURL=mustache_helpers.js.map
define(["jquery","can/util/library","can/view"],function(n,t){var e,r,i,f,u,o,a={val:!0,text:!0};return e=function(e){var f=n.fn[e];n.fn[e]=function(){var n,u,c,l=t.makeArray(arguments),p=this;if(t.isDeferred(l[0]))return l[0].done(function(n){r.call(p,[n],f)}),this;if(i(l)){if(n=o(l))return u=l[n],l[n]=function(n){r.call(p,[n],f),u.call(p,n)},t.view.apply(t.view,l),this;if(c=t.view.apply(t.view,l),t.isDeferred(c))return c.done(function(n){r.call(p,[n],f)}),this;l=[c]}return a[e]?f.apply(this,l):r.call(this,l,f)}},r=function(n,e){var r;for(var i in t.view.hookups)break;return i&&n[0]&&f(n[0])&&(n[0]=t.view.frag(n[0]).childNodes),r=e.apply(this,n)},i=function(n){var t=typeof n[1];return"string"==typeof n[0]&&("object"===t||"function"===t)&&!u(n[1])},u=function(n){return n.nodeType||n[0]&&n[0].nodeType},f=function(n){return u(n)?!0:"string"==typeof n?(n=t.trim(n),"<"===n.substr(0,1)&&">"===n.substr(n.length-1,1)&&n.length>=3):!1},o=function(n){return"function"==typeof n[3]?3:"function"==typeof n[2]&&2},n.fn.hookup=function(){return t.view.frag(this),this},t.each(["prepend","append","after","before","text","html","replaceWith","val"],function(n){e(n)}),t});
//# sourceMappingURL=modifiers.js.map